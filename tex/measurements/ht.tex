%=========================================================================
% (c) 2014, 2015 Josef Lusticky

% FINAL
\subsection{Disabled Hyper-Threading}
Routing of a single IPv4 flow was tested with the Hyper-Threading technology disabled.
\\
\\
\begin{tabular}{ | l | l | l | l | }
\hline
Frame size & \% of link & bandwidth & frame rate \\
\hline
64     &  1.93\% &  0.77~Gb/s & 1~150~000 \\
594    & 14.12\% &  5.65~Gb/s & 1~150~000 \\
1518   & 35.37\% & 14.15~Gb/s & 1~150~000 \\
AMS-IX & 17.50\% &  7.00~Gb/s & 1~150~000 \\
\hline
\end{tabular}
\\
\\
A single core routing performance increased by 15\% with disabled Hyper-Threading.
\\
Routing of 32 IPv4 flows with manual IRQ affinity mappings was tested to investiage
how is the routing performance influenced when the networking code runs
on multiple cores with Hyper-Threading disabled.
\\
\\
\begin{tabular}{ | l | l | l | l | }
\hline
Frame size & \% of link & bandwidth & frame rate \\
\hline
64     &  9.07\% &  3.63~Gb/s & 5~400~000 \\
594    & 68.77\% & 27.51~Gb/s & 5~600~000 \\
1518   & 98.50\% & 39.40~Gb/s & 3~202~210 \\
AMS-IX & 89.77\% & 35.91~Gb/s & 5~900~000 \\
\hline
\end{tabular}
\\
\\
Disabled Hyper-Threading provides only 2\% performance increase when routing the AMS-IX traffic on multiple cores.
The logical cores which are not utilised do not decrease performance significantly.
Hyper-Threading is highly optimised on Intel Xeon E5-2660 v3.
