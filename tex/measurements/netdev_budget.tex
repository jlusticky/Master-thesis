%=========================================================================
% (c) 2014, 2015 Josef Lusticky

%FINAL
\subsection{Netdev\_budget}
The measurement features increased {\it{netdev\_budget}} NAPI parameter from its default value of 300 to 3~000.
The parameter is described in section~\ref{sec:linux-ingress}.
The {\it{netdev\_budget}} can be configured using {\it{procfs}}.
\begin{lstlisting}
echo 3000 > /proc/sys/net/core/netdev_budget
\end{lstlisting}
The following table shows the results.
\\
\\
\begin{tabular}{ | l | l | l | l | }
\hline
Frame size & \% of link & bandwidth & frame rate \\
\hline
AMS-IX & 88.25\% & 35.30~Gb/s & 5~800~000 \\
\hline
\end{tabular}
\\
\\
Increasing the {\it{netdev\_budget}} has no influence on routing performance,
which means that the raise softirq mechanism is highly optimised.
