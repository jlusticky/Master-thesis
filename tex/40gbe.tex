%=========================================================================
% (c) 2014, 2015 Josef Lusticky

\chapter{40 Gigabit Ethernet}\label{chap:40gbe}
The 40 and 100~Gigabit Ethernet were ratified in 2010 as the IEEE 802.3ba standard~\cite{ieee-802.3ba}.
These speeds open doors to significantly higher-capacity networks
and enable networks to scale in ways that were previously impossible.
The 40 and 100~GbE operate in full duplex mode only.
This is also the first time two speeds have been included in an Ethernet standard.

A rough estimate of the CPU processing required to handle a given Ethernet link speed is that
one hertz of CPU processing is required to send or receive one bit.
This general rule of thumb was first stated by PC Magazine in the mid 1990's,
and it is still used as a rule of thumb today~\cite{10gea-toe}.

The core networking doubles its speed approximately every 18 months, whereas
CPU I/O performance doubles every 24 months.
The growth of Ethernet speed has already surpassed
the growth of microprocessor performance~\cite{10gea-toe}.
Figure~\ref{fig:40gbe-performance-gap} shows,
that the 802.3ba Ethernet standard further extends the performance gap.
\begin{figure}
	\centering
	\includegraphics[width=13cm,keepaspectratio]{fig/performance-gap.png}
	\caption{Network and CPU performance gap (source:~\cite{cisco-market-need})}
	\label{fig:40gbe-performance-gap}
	\bigskip
\end{figure}

The 802.3ba standard specifies the physical coding sublayer that is common to both
40 and 100~Gb/s physical layer implementations~\cite{ieee-802.3ba}.
This physical coding sublayer is known as 40GBASE-R and 100GBASE-R.
802.3ba further specifies the following 40~GbE port types.
All of them use 4 fiber pairs and 40GBASE-R physical coding.
\begin{itemize}
\item 40GBASE-SR4 runs over multimode fiber with Short reach for at least 100~m range
\item 40GBASE-LR4 runs over single mode fiber with Long reach, with the required operating range at least 10~km
\item 40GBASE-CR4 is a Copper type over twinaxial cable
\item 40GBASE-KR4 is a port type for bacKplanes
\item 40GBASE-ER4 with an Extended operating range at least 30~km, which
is currently under discussion by the IEEE P802.3bm 40GBASE-ER4 Task Force~\cite{ieee-802.3bm}.
\end{itemize}

The 40GBASE-SR4 runs on Quad (4-channel) Small Form Factor Pluggable (abbreviated as QSPF or QSPF+).
QSPF is a high-density fiber connector with 12 strands of fiber.
Each channel has a dedicated transmit fiber and a dedicated receive fiber.
The middle four fibers remain unused~\cite{cisco-market-need}.
The channel layout is shown in figure~\ref{fig:40gbe-ethernet-layout}.
\begin{figure}
	\centering
	\includegraphics[width=13cm,keepaspectratio]{fig/ethernet-layout.png}
	\caption{IEEE 802.3 Ethernet Channel Layout (source:~\cite{cisco-market-need})}
	\label{fig:40gbe-ethernet-layout}
	\bigskip
\end{figure}

\input{40gbe/frame-rates.tex}

\input{40gbe/throughput.tex}

\input{40gbe/compatibility.tex}
